<?xml version="1.0" encoding="UTF-8"?>
<ui:composition 

    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"

    template="/templates/template.xhtml"
    xmlns:f="http://java.sun.com/jsf/core">

    <ui:define name="form">

        <div class="form-group"> 
            <h:outputLabel for="nome" value="Nome filme"></h:outputLabel>
            <h:inputText id="nome" value="#{filmeView.filme.nmFilme}" styleClass="form-control"/>
        </div>

        <div class="form-group"> 
            <h:outputLabel for="diretor" value="Nome diretor"></h:outputLabel>
            <h:inputText id="diretor" value="#{filmeView.filme.nmDiretor}" styleClass="form-control"/>
        </div>

        <div class="form-group"> 
            <h:outputLabel for="data" value="Data Lançamento"></h:outputLabel>
            <h:inputText id="data" value="#{filmeView.dataLancamento}" styleClass="form-control"/>
        </div>

        <h:outputLabel for="idiomas" value="Idioma"></h:outputLabel>
        <h:selectOneListbox id="idiomas" 
                            value="#{filmeView.idIdioma}"  
                            styleClass="form-control" >
            <f:selectItems id="idiomaList" 
                           var="idioma"  
                           value="#{filmeView.idiomas}" 
                           itemValue="#{idioma.idIdioma}" 
                           itemLabel="#{idioma.nmIdioma}"/>
        </h:selectOneListbox>

        <h:outputLabel for="generos" value="Genero"></h:outputLabel>
        <h:selectOneListbox id="generos" 
                            value="#{filmeView.idGenero}"  
                            styleClass="form-control" >
            <f:selectItems id="generoList" 
                           var="genero"  
                           value="#{filmeView.generos}" 
                           itemValue="#{genero.idGenero}" 
                           itemLabel="#{genero.dsGenero}"/>
        </h:selectOneListbox>

        <h:outputLabel for="class" value="Classificação"></h:outputLabel>
        <h:selectOneListbox id="class" 
                            value="#{filmeView.idClassificacao}"  
                            styleClass="form-control" >
            <f:selectItems id="classList" 
                           var="class"  
                           value="#{filmeView.classificacoes}" 
                           itemValue="#{class.idClass}" 
                           itemLabel="#{class.dsClass}"/>
        </h:selectOneListbox>

        <h:outputLabel for="elencos" value="Elenco"></h:outputLabel>
        <h:selectOneListbox id="elencos" 
                            value="#{filmeView.idElenco}"  
                            styleClass="form-control" >
            <f:selectItems id="elencolist" 
                           var="elenco"  
                           value="#{filmeView.elencos}" 
                           itemValue="#{elenco.idElenco}" 
                           itemLabel="#{elenco.nmElenco}"/>
        </h:selectOneListbox>

        <h:commandButton type="submit" value="Enviar" styleClass="btn btn-success" action="#{filmeView.adicionar}">    
            <f:ajax execute="@form" render="@form" />
        </h:commandButton>
        
        <div class="form-group">
            <h:commandButton styleClass="btn btn-success" value="Logout" action="#{cadastroView.logout}"/>
        </div>

        <h:dataTable id="pessoas" value="#{filmeView.filmes}" var="filme" styleClass="table table-hover">
            <h:column>
                <f:facet name="header">
                    <h:outputText value="ID"/>
                </f:facet>
                <h:outputText value="#{filme.idFilme}"/>
            </h:column>
            <h:column>
                <f:facet name="header">
                    <h:outputText value="Nome do filme"/>
                </f:facet>
                <h:outputText value="#{filme.nmFilme}"/>
            </h:column>
            <h:column>
                <f:facet name="header">
                    <h:outputText value="Lançamento"/>
                </f:facet>
                <h:outputText value="#{filme.dtLancamento}"/>
            </h:column>
            <h:column>
                <f:facet name="header">
                    <h:outputText value="Diretor"/>
                </f:facet>
                <h:outputText value="#{filme.nmDiretor}"/>
            </h:column>
            <h:column>
                <f:facet name="header">
                    <h:outputText value="Nome do Elenco"/>
                </f:facet>
                <h:outputText value="#{filme.elenco.nmElenco}"/>
            </h:column>
            <h:column>
                <f:facet name="header">
                    <h:outputText value="Genero"/>
                </f:facet>
                <h:outputText value="#{filme.genero.dsGenero}"/>
            </h:column>
            <h:column>
                <f:facet name="header">
                    <h:outputText value="Idioma"/>
                </f:facet>
                <h:outputText value="#{filme.idioma.nmIdioma}"/>
            </h:column>
            <h:column>
                <f:facet name="header">
                    <h:outputText value="Classificação"/>
                </f:facet>
                <h:outputText value="#{filme.classificacao.dsClass}"/>
            </h:column>
        </h:dataTable>

        <h:messages id="messages">

        </h:messages>



    </ui:define>
</ui:composition>